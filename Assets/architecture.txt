@startuml
!include <archimate/Archimate>

' Business Layer
Business_Actor(researcher, "Researcher")
Business_Role(researchLead, "Research Lead")
Business_Process(literatureReview, "Literature Review Process")
Business_Process(projectManagement, "Project Management")
Business_Process(documentManagement, "Document Management")

' Application Layer
Application_Component(apiGateway, "API Gateway")
Application_Component(authService, "Auth Service")
Application_Component(projectService, "Project Service")
Application_Component(documentService, "Document Service")
Application_Component(searchService, "Search Service")

' Observability Components
Application_Component(telemetryCollector, "OpenTelemetry Collector")
Application_Component(prometheusService, "Prometheus Service")
Application_Component(gnnAnalyzer, "GNN Analysis Service")

' Technology Layer
Technology_Service(containerRuntime, "Container Runtime")
Technology_Service(kubernetes, "Kubernetes Platform")
Technology_System(database, "Document Store")
Technology_System(metricsStore, "Metrics Store")
Technology_Service(messageQueue, "Message Queue")

' Business Layer Relationships
Rel_Assignment(researcher, researchLead)
Rel_Triggering(researchLead, literatureReview)
Rel_Triggering(literatureReview, projectManagement)
Rel_Triggering(projectManagement, documentManagement)

' Application Layer Relationships
Rel_Serving(apiGateway, literatureReview)
Rel_Serving(apiGateway, projectManagement)
Rel_Serving(apiGateway, documentManagement)

Rel_Flow(apiGateway, authService)
Rel_Flow(apiGateway, projectService)
Rel_Flow(apiGateway, documentService)
Rel_Flow(apiGateway, searchService)

' Observability Relationships
Rel_Flow(authService, telemetryCollector)
Rel_Flow(projectService, telemetryCollector)
Rel_Flow(documentService, telemetryCollector)
Rel_Flow(searchService, telemetryCollector)

Rel_Flow(telemetryCollector, prometheusService)
Rel_Flow(prometheusService, gnnAnalyzer)
Rel_Access_w(gnnAnalyzer, metricsStore)

' Technology Layer Relationships
Rel_Association(kubernetes, containerRuntime)
Rel_Assignment(containerRuntime, apiGateway)
Rel_Assignment(containerRuntime, authService)
Rel_Assignment(containerRuntime, projectService)
Rel_Assignment(containerRuntime, documentService)
Rel_Assignment(containerRuntime, searchService)
Rel_Assignment(containerRuntime, telemetryCollector)
Rel_Assignment(containerRuntime, prometheusService)
Rel_Assignment(containerRuntime, gnnAnalyzer)

Rel_Access(documentService, database)
Rel_Access(gnnAnalyzer, metricsStore)
Rel_Access(messageQueue, apiGateway)

@enduml